<div class="layout-invoice-page">
    <p-toast></p-toast>
    <p-confirmDialog key="cfmdialog" [style]="{width: '50vw'}" [baseZIndex]="10000"
        rejectButtonStyleClass="p-button-text"></p-confirmDialog>
    <p-toolbar styleClass="mb-2">
        <ng-template pTemplate="left">
        </ng-template>

        <ng-template pTemplate="right">
            <div class="field col">
                <button pButton pRipple type="button" [style]="{'width':'150px'}"
                    label="{{ 'operations.addPayment' | translate }}" icon="pi pi-dollar" *ngIf="(master?.statusId===2)"
                    (click)="addPayment()" class="mb-3 p-button-success"></button>
            </div>
            <div class="field col">
                <p-confirmPopup></p-confirmPopup>
                <p-menu #menu [popup]="true" [model]="menuItems" [style]="{'width':'200px'}"></p-menu>
                <button pButton pRipple [disabled]="(editable)" class="mb-3 p-button-warning" type="button"
                    icon="{{sending? 'pi pi-spin pi-spinner' : 'pi pi-fw pi-cog'}}" label="{{ 'operations.actions' | translate }}"
                    (click)="menu.toggle($event)"></button>
            </div>
            <div class="field col">
                <button pButton pRipple type="button" label="{{ 'operations.print' | translate }}" icon="pi pi-print"
                    (click)="print()" class="mb-3"></button>
            </div>
        </ng-template>
    </p-toolbar>
    <div class="layout-invoice-page">
        <div class="card">
            <div class="grid">
                <div class="col-12" id="invoice" #invoice>
                    <div class="flex justify-content-between align-items-center p-3">
                        <div>
                            <h3 class="mb-0">
                                Oman United Co.
                            </h3>
                            <p>9137 3rd Lane California City, CA 93504.</p>
                        </div>
                        <div class="mx-2">
                            <img src="assets/layout/images/extensions/prime-logo.svg" alt="invoice-logo" />
                        </div>
                        <div dir="rtl">
                            <h3 class="mb-0">
                                الشركة العمانية المتحدة للتامين
                            </h3>
                            <p>ص.ب 234, الرمز البريدي 100</p>
                        </div>
                    </div>
                    <h5 class="text-center">Purchase Order</h5>
                    <div class="p-3">
                        <div class="flex mb-3 justify-content-between">
                            <table class="">
                                <tr>
                                    <th class="text-left capitalize font-medium">supplier name: </th>
                                    <td class="uppercase font-bold">{{order.supplierName}}</td>
                                </tr>
                                <tr>
                                    <th class="text-left capitalize font-medium">supplier address: </th>
                                    <td class="uppercase font-medium">{{order.supplierAddress}}</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <th class="text-left capitalize font-medium">customer Name: </th>
                                    <td class="uppercase font-bold">{{order.customerName}}</td>
                                </tr>
                                <tr>
                                    <th class="text-left capitalize font-medium">customer address: </th>
                                    <td class="uppercase font-medium">{{order.supplierAddress}}</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <th class="text-left capitalize font-medium">make & model: </th>
                                    <td class="uppercase font-medium">{{master[0].requestTitle}}</td>
                                </tr>
                                <tr>
                                    <th class="text-left capitalize font-medium">job card: </th>
                                    <td class="uppercase font-medium">{{order.jobTitle? order.jobTitle : '-'}}</td>
                                </tr>
                            </table>
                            <table class="">
                                <tr>
                                    <th class="text-left capitalize font-medium">page no: </th>
                                    <td class="uppercase font-medium">1 of 1</td>
                                </tr>
                                <tr>
                                    <th class="text-left capitalize font-medium"><span class="uppercase">lbo</span>
                                        number: </th>
                                    <td class="uppercase font-medium">{{order.id}}</td>
                                </tr>
                                <tr>
                                    <th class="text-left capitalize font-medium"><span class="uppercase">lbo</span>
                                        date: </th>
                                    <td class="uppercase font-medium">{{order.createdAt? order.createdAt : '-'}}</td>
                                </tr>
                                <tr>
                                    <th class="text-left capitalize font-medium">currency </th>
                                    <td class="uppercase font-medium">{{order.currency}}</td>
                                </tr>
                                <tr>
                                    <th class="text-left capitalize font-medium">country: </th>
                                    <td class="uppercase font-medium">{{order.country}}</td>
                                </tr>
                            </table>
                        </div>
                        <p class="uppercase">
                            please supply the following and debit our account for the value
                        </p>
                        <p-table [columns]="dataCols" [value]="master" styleClass="p-invoice-datatable-responsive pb-3">
                            <ng-template pTemplate="header" let-columns>
                                <tr>
                                    <th *ngFor="let col of columns">
                                        {{col.header}}
                                    </th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-order let-columns="columns">
                                <tr>
                                    <td>
                                        {{order.bidId}}
                                    </td>
                                    <td>
                                        {{order.partName}}
                                    </td>
                                    <td>
                                        {{order.unit}}
                                    </td>
                                    <td>
                                        {{order.qty}}
                                    </td>
                                    <td>
                                        {{order.price}}
                                    </td>
                                    <td>
                                        {{order.price}}
                                    </td>
                                    <td>
                                        {{order.discount? order.discount : 0}}
                                    </td>
                                    <td>
                                        {{order.vat}}
                                    </td>
                                    <td>
                                        {{order.price + order.vat}}
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                        <div class="flex justify-content-between align-items-end mt-3">
                            <p class="mb-0 capitalize font-medium">
                                oman rial three hundred ninity-five and baises 10/100
                            </p>
                            <table class="">
                                <tr>
                                    <th class="text-left uppercase font-medium">gross total: </th>
                                    <td class="uppercase font-medium">{{order.orderAmount}}</td>
                                </tr>
                                <tr>
                                    <th class="text-left uppercase font-medium">vat amount: </th>
                                    <td class="uppercase font-medium">{{totalVat}}</td>
                                </tr>
                                <tr>
                                    <th class="text-left uppercase font-medium">net total</th>
                                    <td class="uppercase font-medium">{{order.totalAmount}}</td>
                                </tr>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
